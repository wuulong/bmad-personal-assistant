<!-- Powered by BMAD™ Personal Assistant Expansion Pack -->

# 協調任務 (Coordinate Task)

## Purpose

此任務旨在根據使用者需求，判斷並協調其他專業代理程式來完成複雜或跨領域的任務，確保任務高效、順暢地執行。

## Inputs

- **`user_request`**: 使用者提出的原始請求或問題。
- **`available_agents`**: 當前可用的專業代理程式清單及其能力描述。
- **`context_history`**: 與使用者對話的歷史記錄，用於理解請求的上下文。

## Process

### 1. 理解使用者意圖

- 分析 `user_request`，明確其核心需求和目標。
- 參考 `context_history`，獲取額外背景資訊。

### 2. 識別所需專業領域

- 根據使用者意圖，判斷完成任務所需的專業知識和技能。
- 將需求與 `available_agents` 的能力進行匹配。

### 3. 選擇最佳代理程式

- 如果單一代理程式即可完成，則直接將任務分配給該代理程式。
- 如果任務涉及多個專業領域，則識別需要協同工作的代理程式組合。
- 考慮代理程式的專長、效率和當前狀態。

### 4. 任務分解與分配

- 將複雜任務分解為子任務，並為每個子任務指定負責的代理程式。
- 為每個代理程式提供清晰的指令和必要的輸入。

### 5. 監控與協調

- 監控各代理程式的任務進度。
- 在任務執行過程中，如果遇到障礙或需要跨代理程式協調，則進行干預和引導。
- 確保各代理程式之間的資訊流暢。

### 6. 整合結果與回報

- 收集各代理程式完成的子任務結果。
- 整合所有結果，形成最終的解決方案或回覆。
- 向使用者回報任務進度、遇到的問題和最終結果。

## Outputs

- **`assigned_tasks`**: 分配給各代理程式的子任務清單。
- **`task_progress_updates`**: 任務執行過程中的進度更新。
- **`integrated_solution`**: 整合後的最終解決方案或回覆。
- **`coordination_log`**: 任務協調過程的記錄。

## Key Principles

- **智慧判斷**: 準確判斷使用者意圖和所需專業。
- **高效協調**: 確保多代理程式協同工作的順暢和高效。
- **透明溝通**: 及時向使用者回報進度，並解釋決策過程。
- **靈活應變**: 在任務執行中遇到問題時，能夠靈活調整策略。
